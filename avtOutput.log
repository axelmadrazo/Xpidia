Run starting. Expected test count is: 9
GetSaleTestSuite:
GetSale
  BaseTest
    validation at different sale stages
    + Sending Create Sale POST Request and validating Create Sale Response 
    + Test Request 
    + Sending Request: 
	RequestDetails[Method:[POST]URL:[http://localhost:81/Xpidia/supplierBranches/woi/sales]
	RequestHeaders:["x-request-identifier=0263cca9-9e6c-4a7d-a0a5-8ec17ed1ee2d"; "x-request-authentication=MTd465XROPMeMkl2v7y2JqW9SBBYnaNRO8YWCbIH3s0="; "Accept=application/vnd.localexpert.v2.1+json,application/vnd.localexpert.v2.0+json;q=0.9,application/vnd.localexpert.v1.1+json;q=0.8,application/json;q=0.7"; "Content-Type=application/vnd.localexpert.v2.1+json; charset=UTF-8"]
	RequestBody:[{"referenceId":"0abb4121-7e0e-4ad2-83f7-0befcab8aa2b","partnerActivityId":"291957W3","partnerOfferId":"391472W3025","localDate":"2017-03-21","ticketTypes":[{"partnerTicketTypeId":"adult","count":2,"travelerCount":2,"voucherCount":2}],"guests":[{"firstName":"NameFirst","lastName":"NameLast"}],"holdDurationSeconds":5,"additionalCriteria":[]}]] 
    + Received Response: 
	ResponseDetails[ResponseHeaders:["Date=Sat, 08 Sep 2018 17:04:28 GMT"; "Server=Apache/2.4.27 (Win64) OpenSSL/1.0.2l PHP/7.1.12"; "X-Powered-By=PHP/7.1.12"; "Content-Length=244"; "Keep-Alive=timeout=5, max=100"; "Connection=Keep-Alive"; "Content-Type=application/vnd.localexpert.v2.1+json"] 
	ResponseContentType:[application/vnd.localexpert.v2.1+json]
	ResponseBody:[{"responseHeader":{"requestIdentifier":"0263cca9-9e6c-4a7d-a0a5-8ec17ed1ee2d","processingMilliseconds":100},"partnerSupplierBranchId":"woi","referenceId":"0abb4121-7e0e-4ad2-83f7-0befcab8aa2b","partnerSaleId":"319","utcHoldExpiration":1,"0":[]}]] 
      Sending GetSale request post CreateSale
      + Test Request 
      + Sending Request: 
	RequestDetails[Method:[GET]URL:[http://localhost:81/Xpidia/supplierBranches/woi/sales/319]
	RequestHeaders:["x-request-identifier=00141a87-5949-4f87-9ea1-47b0d009cd30"; "x-request-authentication=x/yi46XEFEf3/DCSje63u0rn7IS4zxwixVXm4ok6qHs="; "Accept=application/vnd.localexpert.v2.1+json,application/vnd.localexpert.v2.0+json;q=0.9,application/vnd.localexpert.v1.1+json;q=0.8,application/json;q=0.7"; "Content-Type=application/vnd.localexpert.v2.1+json; charset=UTF-8"]
	RequestBody:[]] 
      + Received Response: 
	ResponseDetails[ResponseHeaders:["Date=Sat, 08 Sep 2018 17:04:29 GMT"; "Server=Apache/2.4.27 (Win64) OpenSSL/1.0.2l PHP/7.1.12"; "X-Powered-By=PHP/7.1.12"; "Content-Length=427"; "Keep-Alive=timeout=5, max=99"; "Connection=Keep-Alive"; "Content-Type=application/vnd.localexpert.v2.1+json"] 
	ResponseContentType:[application/vnd.localexpert.v2.1+json]
	ResponseBody:[{"responseHeader":{"requestIdentifier":"00141a87-5949-4f87-9ea1-47b0d009cd30","processingMilliseconds":100},"partnerSupplierBranchId":"woi","partnerSaleId":"319","partnerSaleStatus":"OnHold","partnerBarcodeSymbology":"QRCode","partnerSaleBarcode":"","utcSaleRedemptionDateTime":100,"partnerTickets":{"ticketId":"","partnerTicketId":"","partnerTicketStatus":"OnHold","partnerTicketBarcode":"","utcTicketRedemptionDateTime":100}}]] 
      + Test Response Mapping 
      - Http StatusCode should be 200
      - Response time should be within the maximum allowed response time. GetSale calls are required to be within 1000 milliseconds
      - Response Body should map to the valid Json Model of type: GetSale'
        + Response Body Json keys match. 
        + Response Body completely maps to the correct JsonBody of: GetSale 
      + Response Body Tests 
      + Test Request Identifier 
      - RequestIdentifier in ResponseBody should match RequestIdentifier from Request
      + Test Get Sale 
      - Should match the Request partnerSupplierBranchId
      - Should match the Request partnerSaleId
      - Should have same PartnerSaleID same as the CreateSale Response
      - Should have same PartnerSaleStatus as OnHold
    + Sending Commit Sale PUT Request and validating Commit Sale Response 
    + Test Request 
    + Sending Request: 
	RequestDetails[Method:[PUT]URL:[http://localhost:81/Xpidia/supplierBranches/woi/sales/319]
	RequestHeaders:["x-request-identifier=9ccd87a5-3fef-4161-8890-015ca12dc4c3"; "x-request-authentication=LMLxOL85ziRJZLzdyZnqaAOqSF6CHEswiFl7ixKcg5w="; "Accept=application/vnd.localexpert.v2.1+json,application/vnd.localexpert.v2.0+json;q=0.9,application/vnd.localexpert.v1.1+json;q=0.8,application/json;q=0.7"; "Content-Type=application/vnd.localexpert.v2.1+json; charset=UTF-8"]
	RequestBody:[{"saleId":"0abb4121-7e0e-4ad2-83f7-0befcab8aa2b","ticketIds":["59231540","59231541"],"tickets":[{"ticketId":"59231540","partnerTicketTypeId":"adult"},{"ticketId":"59231541","partnerTicketTypeId":"adult"}]}]] 
    + Received Response: 
	ResponseDetails[ResponseHeaders:["Date=Sat, 08 Sep 2018 17:04:29 GMT"; "Server=Apache/2.4.27 (Win64) OpenSSL/1.0.2l PHP/7.1.12"; "X-Powered-By=PHP/7.1.12"; "Content-Length=672"; "Keep-Alive=timeout=5, max=98"; "Connection=Keep-Alive"; "Content-Type=application/vnd.localexpert.v2.1+json"] 
	ResponseContentType:[application/vnd.localexpert.v2.1+json]
	ResponseBody:[{"responseHeader":{"requestIdentifier":"9ccd87a5-3fef-4161-8890-015ca12dc4c3","processingMilliseconds":null},"partnerSupplierBranchId":null,"partnerSaleId":"","partnerSaleStatus":"","partnerBarcodeSymbology":"","partnerSaleBarcode":"","utcSaleRedemptionDateTime":"","partnerTickets":{"ticketId":"","partnerTicketId":"","partnerTicketStatus":"OnHold","partnerTicketBarcode":"","utcTicketRedemptionDateTime":""}}<br />
<b>Notice</b>:  Undefined variable: time_elapsed_secs in <b>C:\laragon\www\Xpidia\index.php</b> on line <b>699</b><br />
<br />
<b>Notice</b>:  Undefined variable: partnerSupplierBranchId in <b>C:\laragon\www\Xpidia\index.php</b> on line <b>701</b><br />
]] 
    - Commit Sale Failure *** FAILED ***
      Commit Sale failed therefore a Get Sale cannot be tested. Exception message: Commit Sale failed due to: Response Body from Commit Sale could not be converted to a proper CommitSaleResponse model. Exception message: No usable value for partnerTickets
      Expected collection but got JObject(List((ticketId,JString()), (partnerTicketId,JString()), (partnerTicketStatus,JString(OnHold)), (partnerTicketBarcode,JString()), (utcTicketRedemptionDateTime,JString()))) for root JObject(List((ticketId,JString()), (partnerTicketId,JString()), (partnerTicketStatus,JString(OnHold)), (partnerTicketBarcode,JString()), (utcTicketRedemptionDateTime,JString()))) and mapping Set[CommitSaleTicketBasic] (GetSaleTestSuite.scala:70)
  PerGroupVBP
  - Skipping the optional AVT Get Sale Test [PerGroupVBP]. !!! IGNORED !!!
  SaleNotFound
  - Skipping the required AVT Get Sale Test [SaleNotFound]. !!! IGNORED !!!
Run completed in 3 seconds, 358 milliseconds.
Total number of tests run: 9
Suites: completed 1, aborted 0
Tests: succeeded 8, failed 1, canceled 0, ignored 2, pending 0
*** 1 TEST FAILED ***
